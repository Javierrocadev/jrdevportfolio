---
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
---

<a href="https://uiverse.io/Javierrocadev/angry-puma-14" target="_blank" rel="noopener noreferrer">
  <div class="relative h-full p-0.5 overflow-hidden rounded-xl bg-[#3d3c3d] drop-shadow-xl group">
    <div class="p-16 z-[1] h-full flex flex-col items-center justify-center gap-3 rounded-lg bg-[#323132] text-white opacity-90">
      <div class="absolute top-5 left-5 flex gap-1 justify-center content-center items-center">
         <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-square-rounded-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001zm2.293 7.293a1 1 0 0 1 1.497 1.32l-.083 .094l-4 4a1 1 0 0 1 -1.32 .083l-.094 -.083l-2 -2a1 1 0 0 1 1.32 -1.497l.094 .083l1.293 1.292l3.293 -3.292z" fill="currentColor" stroke-width="0" /></svg>
   
        <span class="uppercase leading-none align-middle pt-1 text-xs">Uiverse</span>
      </div>
      
      <!-- content - Modificado con clases para móvil/desktop -->
      <div class="animated-card hover:-translate-y-2 group bg-neutral-50 duration-500 w-44 h-44 flex text-neutral-600 flex-col justify-center items-center relative rounded-xl overflow-hidden shadow-md mobile-animated">
        <svg
          viewBox="0 0 200 200"
          xmlns="http://www.w3.org/2000/svg"
          class="absolute blur z-10 fill-red-300 duration-500 group-hover:blur-none group-hover:scale-105 mobile-blur"
        >
          <path
            transform="translate(100 100)"
            d="M39.5,-49.6C54.8,-43.2,73.2,-36.5,78.2,-24.6C83.2,-12.7,74.8,4.4,69,22.5C63.3,40.6,60.2,59.6,49.1,64.8C38.1,70,19,61.5,0.6,60.7C-17.9,59.9,-35.9,67,-47.2,61.9C-58.6,56.7,-63.4,39.5,-70,22.1C-76.6,4.7,-84.9,-12.8,-81.9,-28.1C-79,-43.3,-64.6,-56.3,-49.1,-62.5C-33.6,-68.8,-16.8,-68.3,-2.3,-65.1C12.1,-61.9,24.2,-55.9,39.5,-49.6Z"
          ></path>
        </svg>

        <div class="z-20 flex flex-col justify-center items-center mobile-content">
          <span class="font-bold text-6xl ml-2">34+</span>
          <p class="font-bold">Projects</p>
        </div>
      </div>
    </div>

    <div class="absolute transition-all duration-500 top-1/2 -left-1/2 group-hover:top-12 group-hover:-left-1/4 h-48 w-56 -z-10 bg-amber-800 blur-[50px]"></div>
  </div>
</a>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  document.addEventListener("DOMContentLoaded", () => {
    // Registrar ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);
    
    // Solo aplicar animaciones scroll en móvil
    if (window.innerWidth < 768) {
      const animatedCard = document.querySelector('.animated-card');
      
      if (animatedCard) {
        // Configurar estado inicial para móvil
        gsap.set(animatedCard, {
          opacity: 0,
          y: 30
        });
        
        gsap.set('.mobile-blur', {
          scale: 0.9
        });
        
        gsap.set('.mobile-content', {
          opacity: 0,
          y: 10
        });
        
        // Timeline para animación secuencial
        const tl = gsap.timeline({
          scrollTrigger: {
            trigger: animatedCard,
            start: "top 80%",
            end: "bottom 20%",
            toggleActions: "play none none reverse"
          }
        });
        
        tl.to(animatedCard, {
          opacity: 1,
          y: 0,
          duration: 0.6,
          ease: "power2.out"
        })
        .to('.mobile-blur', {
          scale: 1,
          blur: 0,
          duration: 0.8,
          ease: "power2.out"
        }, "-=0.3")
        .to('.mobile-content', {
          opacity: 1,
          y: 0,
          duration: 0.5,
          ease: "power2.out"
        }, "-=0.2");
      }
    }
  });
</script>

<style>
  /* Estilos para móvil */
  @media (max-width: 767px) {
    .mobile-animated {
      opacity: 0;
      transform: translateY(0) !important; /* Anula el hover en móvil */
    }
    
    .mobile-blur {
      filter: blur(8px);
      transform: scale(0.9);
    }
    
    .mobile-content {
      opacity: 0;
      transform: translateY(10px);
    }
    
    /* Deshabilitar efectos hover en móvil */
    .animated-card:hover {
      transform: translateY(0) !important;
    }
    
    .animated-card:hover .mobile-blur {
      filter: blur(8px) !important;
      transform: scale(1) !important;
    }
  }
  
  /* Desktop - mantener hover normal */
  @media (min-width: 768px) {
    .animated-card {
      transition: all 0.5s ease;
    }
  }
</style>