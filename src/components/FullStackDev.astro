---
import TShape from "../assets/images/t-shape-no-text.svg"
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";
---

<div
  class="relative p-0.5 h-full overflow-hidden rounded-xl bg-[#3d3c3d] drop-shadow-xl group"
>
  <div
    class="h-full px-4 sm:px-8 pt-16 pb-8 z-[1] flex flex-col items-start gap-3 rounded-lg bg-[#323132]  text-white opacity-90"
  >
  <div class="absolute top-5 left-5 flex gap-1 justify-center  content-center items-center ">
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="currentColor"  class="icon icon-tabler icons-tabler-filled icon-tabler-square-rounded-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001zm2.293 7.293a1 1 0 0 1 1.497 1.32l-.083 .094l-4 4a1 1 0 0 1 -1.32 .083l-.094 -.083l-2 -2a1 1 0 0 1 1.32 -1.497l.094 .083l1.293 1.292l3.293 -3.292z" fill="currentColor" stroke-width="0" /></svg>
    <span class="uppercase leading-none align-middle pt-1 text-xs">Mi especialidad</span>
    </div>
<!-- content -->
<h2 class="text-4xl sm:text-6xl font-medium ">Diseñador - Frontend Developer</h2>
<p class=" text-2xl text-white/50">Me especializo en la creación y diseño de componentes, ya sean en un system design o creados desde 0. Me gusta crear experiencias de usuario atractivas y funcionales para llevar al usuario donde necesita ir. Soy un UI Designer / Front-end Developer, que sabe un poco de Back-end y de Infraescturas. </p>
<div class="flex items-center justify-center w-full">
          <div class="group/tooltip-container relative inline-block py-16 tooltip-section">
            <TShape class="cursor-pointer w-64 sm:w-full" />
            
            <!-- Primer tooltip -->
            <div
              class="tip tip-1 absolute left-20 sm:left-40 top-20 sm:top-10 -skew-x-[16deg] w-fit h-9 mobile-tooltip"
            >
              <div class="line-container">
                <div class="vertical-line before-line"></div>
                <div class="vertical-line after-line"></div>
                <div class="horizontal-line"></div>
              </div>
              <p
                class="content font-normal translate-y-2 sm:group-hover/tooltip-container:translate-y-0 skew-x-[16deg] absolute text-white -top-full opacity-0 sm:group-hover/tooltip-container:opacity-100 duration-150 whitespace-nowrap ml-2 mobile-content"
              >
                Diseño y Front-end
              </p>
            </div>

            <!-- Segundo tooltip -->
            <div
            class="tip tip-2 absolute left-20 sm:left-40 top-[15.5rem] sm:top-64  w-fit h-9 mobile-tooltip"
          >
            <div class="line-container skew-x-[16deg]">
              <div class="vertical-line before-line"></div>
              <div class="vertical-line after-line "></div>
              <div class="horizontal-line "></div>
            </div>
            <p
              class="content font-normal translate-y-2 sm:group-hover/tooltip-container:translate-y-0 skew-x-[32deg] absolute top-1 left-4 text-white bottom-full opacity-0 sm:group-hover/tooltip-container:opacity-100 duration-150 whitespace-nowrap ml-2 mobile-content"
            >
            Despliegue con Azure y Aws
            </p>
          </div>

            <!-- Tercer tooltip -->
            <div
  class="tip tip-3 absolute right-28 sm:right-32 bottom-16 sm:bottom-6  -skew-x-[16deg] w-fit h-12 mobile-tooltip"
>
  <div class="line-container">
    <div class="vertical-line before-line"></div>
    <div class="vertical-line after-line"></div>
    <div class="horizontal-line"></div>
  </div>
  <p
    class="content font-normal translate-y-2 sm:group-hover/tooltip-container:translate-y-0 skew-x-[16deg] absolute top-4 right-2 text-white bottom-full opacity-0 sm:group-hover/tooltip-container:opacity-100 duration-150 whitespace-nowrap mr-2  text-right mobile-content"
  >
    Conocimientos básicos
  </p>
</div>

          </div>
        </div>
        <p class=" text-2xl text-white/50">Si quieres un diseñador-Frontend developer o un Full Stack Developer que combine diseño y desarrollo con un extra, no busques más.</p>

  </div>

  <div
    class="absolute transition-all duration-500 top-1/2 -left-1/2 group-hover:top-12 group-hover:-left-1/4 h-48 w-56 -z-10 bg-amber-800 blur-[50px]"
  ></div>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  document.addEventListener("DOMContentLoaded", () => {
    // Registrar ScrollTrigger
    gsap.registerPlugin(ScrollTrigger);
    
    // Solo aplicar animaciones scroll en móvil
    if (window.innerWidth < 768) {
      const tooltips = document.querySelectorAll('.mobile-tooltip');
      
      if (tooltips.length > 0) {
        tooltips.forEach((tooltip, index) => {
          const content = tooltip.querySelector('.mobile-content');
          const beforeLine = tooltip.querySelector('.before-line');
          const afterLine = tooltip.querySelector('.after-line');
          const horizontalLine = tooltip.querySelector('.horizontal-line');
          
          // Crear timeline para cada tooltip
          const tl = gsap.timeline({
            scrollTrigger: {
              trigger: tooltip,
              start: "top 80%",
              end: "bottom 20%",
              toggleActions: "play none none reverse"
            }
          });
          
          // Animación secuencial
          tl.fromTo(tooltip, 
            { opacity: 0, y: 20 },
            { opacity: 1, y: 0, duration: 0.4 }
          )
          .fromTo(beforeLine,
            { scaleY: 0 },
            { scaleY: 1, duration: 0.3, ease: "power2.out" },
            "-=0.2"
          )
          .fromTo(afterLine,
            { scaleY: 0 },
            { scaleY: 1, duration: 0.3, ease: "power2.out" },
            "-=0.1"
          )
          .fromTo(horizontalLine,
            { scaleX: 0 },
            { scaleX: 1, duration: 0.4, ease: "power2.out" },
            "-=0.1"
          )
          .fromTo(content,
            { opacity: 0, y: 10 },
            { opacity: 1, y: 0, duration: 0.4, ease: "power2.out" },
            "-=0.2"
          );
        });
      }
    }
  });
</script>

<style>
  /* Estilos para las líneas - reemplazan los pseudo-elementos */
  .line-container {
    position: absolute;
    inset: 0;
  }
  
  .vertical-line {
    position: absolute;
    width: 2px;
    background-color: rgb(154 52 18); /* orange-800 */
    transform: scaleY(0);
    transform-origin: bottom;
  }
  
  .before-line {
    left: 0;
    top: 0;
    height: 100%;
    transform-origin: bottom;
  }
  
  .after-line {
    left: 0;
    top: 0;
    height: 100%;
    transform-origin: bottom;
    transition-delay: 150ms;
  }
  
  .horizontal-line {
    position: absolute;
    height: 2px;
    background-color: rgb(154 52 18); /* orange-800 */
    transform: scaleX(0);
    transform-origin: left;
  }
  
  /* Estilos específicos para cada tooltip */
  .tip-1 .before-line {
    transform-origin: bottom left;
  }
  
  .tip-1 .after-line {
    transform-origin: bottom left;
  }
  
  .tip-1 .horizontal-line {
    left: 0;
    top: 0;
    width: 8rem; /* w-32 */
    transform-origin: top left;
  }
  
  .tip-2 .before-line {
    left: 0;
    bottom: 0;
    top: auto;
    transform-origin: top left;
  }
  
  .tip-2 .after-line {
    left: 0;
    bottom: 0;
    top: auto;
    transform-origin: top left;
  }
  
  .tip-2 .horizontal-line {
    left: 0;
    bottom: 0;
    width: 8rem; /* w-32 */
    transform-origin: bottom left;
  }
  
  .tip-3 .before-line {
    right: 0;
    bottom: 0;
    left: auto;
    transform-origin: top right;
  }
  
  .tip-3 .after-line {
    right: 0;
    bottom: 0;
    left: auto;
    transform-origin: top right;
  }
  
  .tip-3 .horizontal-line {
    right: 0;
    bottom: 0;
    width: 8rem; /* w-32 */
    transform-origin: bottom right;
  }
  
  /* Estilos para desktop - mantener hover */
  @media (min-width: 768px) {
    .tip-1:hover .before-line,
    .tip-1:hover .after-line,
    .tip-1:hover .horizontal-line,
    .tip-2:hover .before-line,
    .tip-2:hover .after-line,
    .tip-2:hover .horizontal-line,
    .tip-3:hover .before-line,
    .tip-3:hover .after-line,
    .tip-3:hover .horizontal-line {
      transform: scaleY(1) scaleX(1);
    }
    
    .tip:hover .mobile-content {
      opacity: 1 !important;
      transform: translateY(0) !important;
    }
  }
  
  /* Estado inicial para móvil */
  @media (max-width: 767px) {
    .mobile-tooltip {
      opacity: 0;
    }
    
    .mobile-content {
      opacity: 0;
      transform: translateY(10px);
    }
  }
</style>